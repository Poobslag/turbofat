[gd_scene load_steps=8 format=3 uid="uid://212da705ytk0"]

[ext_resource type="Script" path="res://src/main/world/creature/creature.gd" id="3"]
[ext_resource type="AudioStream" uid="uid://dspjgi18ysym7" path="res://assets/main/world/creature/move-bonk.wav" id="5"]
[ext_resource type="AudioStream" uid="uid://b43dltpth0cve" path="res://assets/main/world/creature/move-hop.wav" id="7"]
[ext_resource type="Script" path="res://src/main/world/creature/creature-collision-shape.gd" id="8"]
[ext_resource type="Script" path="res://src/main/world/creature/creature-sfx.gd" id="23"]
[ext_resource type="Script" path="res://src/main/world/creature/mouth-hook.gd" id="31"]

[sub_resource type="RectangleShape2D" id="1"]
resource_local_to_scene = true
size = Vector2(28, 14)

[node name="Creature" type="CharacterBody2D" groups=["creatures"]]
script = ExtResource("3")
metadata/dna = {}

[node name="NametagHook" type="RemoteTransform2D" parent="."]
update_rotation = false
update_scale = false

[node name="MouthHook" type="Node2D" parent="."]
script = ExtResource("31")

[node name="CreatureSfx" type="Node2D" parent="."]
script = ExtResource("23")

[node name="VoicePlayer" type="AudioStreamPlayer" parent="CreatureSfx"]
volume_db = 6.0
bus = &"Voice Bus"

[node name="MunchSound" type="AudioStreamPlayer" parent="CreatureSfx"]
bus = &"Voice Bus"

[node name="HopSound" type="AudioStreamPlayer2D" parent="CreatureSfx"]
stream = ExtResource("7")
volume_db = -4.0
bus = &"Sound Bus"

[node name="BonkSound" type="AudioStreamPlayer2D" parent="CreatureSfx"]
stream = ExtResource("5")
volume_db = -4.0
bus = &"Sound Bus"

[node name="SuppressSfxTimer" type="Timer" parent="CreatureSfx"]
one_shot = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("1")
script = ExtResource("8")

[connection signal="food_eaten" from="." to="CreatureSfx" method="_on_Creature_food_eaten"]
[connection signal="landed" from="." to="CreatureSfx" method="_on_Creature_landed"]
[connection signal="timeout" from="CreatureSfx/SuppressSfxTimer" to="CreatureSfx" method="_on_SuppressSfxTimer_timeout"]
