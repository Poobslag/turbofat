[gd_scene load_steps=51 format=2]

[ext_resource path="res://src/main/ui/menu/main-menu.gd" type="Script" id=1]
[ext_resource path="res://assets/main/ui/candy-button/candy-button-p.png" type="Texture" id=2]
[ext_resource path="res://assets/main/ui/font/fredoka-one-regular.ttf" type="DynamicFontData" id=3]
[ext_resource path="res://src/main/ui/wallpaper/Wallpaper.tscn" type="PackedScene" id=4]
[ext_resource path="res://src/main/ui/menu/SystemButtons.tscn" type="PackedScene" id=5]
[ext_resource path="res://src/main/ui/menu/drop-panel.tres" type="StyleBox" id=6]
[ext_resource path="res://src/main/ui/VersionLabel.tscn" type="PackedScene" id=7]
[ext_resource path="res://src/main/ui/settings/SettingsMenu.tscn" type="PackedScene" id=8]
[ext_resource path="res://src/main/ui/theme/h2-font-outline.tres" type="DynamicFont" id=9]
[ext_resource path="res://src/main/ui/MusicPopup.tscn" type="PackedScene" id=10]
[ext_resource path="res://src/main/ui/theme/h4.theme" type="Theme" id=11]
[ext_resource path="res://src/main/ui/menu/main-menu-debug.gd" type="Script" id=12]
[ext_resource path="res://src/main/ui/menu/main-menu-play.gd" type="Script" id=13]
[ext_resource path="res://src/main/ui/menu/main-menu-create.gd" type="Script" id=14]
[ext_resource path="res://src/main/ui/candy-button/CandyButton.tscn" type="PackedScene" id=15]
[ext_resource path="res://assets/main/ui/candy-button/candy-button-o-pressed.png" type="Texture" id=16]
[ext_resource path="res://assets/main/ui/candy-button/candy-button-q.png" type="Texture" id=17]
[ext_resource path="res://assets/main/ui/candy-button/candy-button-t.png" type="Texture" id=18]
[ext_resource path="res://assets/main/ui/candy-button/candy-button-t-pressed.png" type="Texture" id=19]
[ext_resource path="res://assets/main/ui/candy-button/candy-button-o.png" type="Texture" id=20]
[ext_resource path="res://assets/main/ui/candy-button/candy-button-q-pressed.png" type="Texture" id=21]
[ext_resource path="res://src/main/ui/candy-button/gradient-indigo-normal.tres" type="Gradient" id=22]
[ext_resource path="res://src/main/ui/candy-button/gradient-orange-normal.tres" type="Gradient" id=23]
[ext_resource path="res://src/main/ui/candy-button/gradient-green-normal.tres" type="Gradient" id=24]
[ext_resource path="res://assets/main/ui/candy-button/candy-button-u-pressed.png" type="Texture" id=25]
[ext_resource path="res://assets/main/ui/candy-button/candy-button-u.png" type="Texture" id=26]
[ext_resource path="res://assets/main/ui/candy-button/candy-button-p-pressed.png" type="Texture" id=27]
[ext_resource path="res://src/main/ui/candy-button/gradient-violet-normal.tres" type="Gradient" id=28]
[ext_resource path="res://src/main/ui/candy-button/gradient-yellow-normal.tres" type="Gradient" id=29]
[ext_resource path="res://assets/main/ui/icon-practice.png" type="Texture" id=30]
[ext_resource path="res://assets/main/ui/icon-tutorials.png" type="Texture" id=31]
[ext_resource path="res://assets/main/ui/icon-career.png" type="Texture" id=32]
[ext_resource path="res://assets/main/ui/icon-create-levels.png" type="Texture" id=33]
[ext_resource path="res://assets/main/ui/icon-create-creatures.png" type="Texture" id=34]

[sub_resource type="DynamicFont" id=1]
size = 72
outline_size = 6
outline_color = Color( 0.254902, 0.156863, 0.117647, 1 )
font_data = ExtResource( 3 )

[sub_resource type="Shader" id=2]
code = "shader_type canvas_item;
render_mode unshaded;

uniform sampler2D gradient: hint_black;
uniform float mix_amount = 1.0;

void fragment() {
	vec4 input_color = texture(TEXTURE, UV);
	float greyscale_value = dot(input_color.rgb, vec3(0.299, 0.587, 0.114));
	vec3 sampled_color = texture(gradient, vec2(greyscale_value, 0.0)).rgb;

	COLOR.rgb = mix(input_color.rgb, sampled_color, mix_amount);
	COLOR.a = input_color.a;
}"

[sub_resource type="GradientTexture" id=3]
gradient = ExtResource( 24 )

[sub_resource type="ShaderMaterial" id=4]
shader = SubResource( 2 )
shader_param/mix_amount = 1.0
shader_param/gradient = SubResource( 3 )

[sub_resource type="Shader" id=5]
code = "shader_type canvas_item;
render_mode unshaded;

uniform sampler2D gradient: hint_black;
uniform float mix_amount = 1.0;

void fragment() {
	vec4 input_color = texture(TEXTURE, UV);
	float greyscale_value = dot(input_color.rgb, vec3(0.299, 0.587, 0.114));
	vec3 sampled_color = texture(gradient, vec2(greyscale_value, 0.0)).rgb;

	COLOR.rgb = mix(input_color.rgb, sampled_color, mix_amount);
	COLOR.a = input_color.a;
}"

[sub_resource type="GradientTexture" id=6]
gradient = ExtResource( 22 )

[sub_resource type="ShaderMaterial" id=7]
shader = SubResource( 5 )
shader_param/mix_amount = 1.0
shader_param/gradient = SubResource( 6 )

[sub_resource type="Shader" id=8]
code = "shader_type canvas_item;
render_mode unshaded;

uniform sampler2D gradient: hint_black;
uniform float mix_amount = 1.0;

void fragment() {
	vec4 input_color = texture(TEXTURE, UV);
	float greyscale_value = dot(input_color.rgb, vec3(0.299, 0.587, 0.114));
	vec3 sampled_color = texture(gradient, vec2(greyscale_value, 0.0)).rgb;

	COLOR.rgb = mix(input_color.rgb, sampled_color, mix_amount);
	COLOR.a = input_color.a;
}"

[sub_resource type="GradientTexture" id=9]
gradient = ExtResource( 23 )

[sub_resource type="ShaderMaterial" id=10]
shader = SubResource( 8 )
shader_param/mix_amount = 1.0
shader_param/gradient = SubResource( 9 )

[sub_resource type="Shader" id=11]
code = "shader_type canvas_item;
render_mode unshaded;

uniform sampler2D gradient: hint_black;
uniform float mix_amount = 1.0;

void fragment() {
	vec4 input_color = texture(TEXTURE, UV);
	float greyscale_value = dot(input_color.rgb, vec3(0.299, 0.587, 0.114));
	vec3 sampled_color = texture(gradient, vec2(greyscale_value, 0.0)).rgb;

	COLOR.rgb = mix(input_color.rgb, sampled_color, mix_amount);
	COLOR.a = input_color.a;
}"

[sub_resource type="GradientTexture" id=12]
gradient = ExtResource( 28 )

[sub_resource type="ShaderMaterial" id=13]
shader = SubResource( 11 )
shader_param/mix_amount = 1.0
shader_param/gradient = SubResource( 12 )

[sub_resource type="Shader" id=14]
code = "shader_type canvas_item;
render_mode unshaded;

uniform sampler2D gradient: hint_black;
uniform float mix_amount = 1.0;

void fragment() {
	vec4 input_color = texture(TEXTURE, UV);
	float greyscale_value = dot(input_color.rgb, vec3(0.299, 0.587, 0.114));
	vec3 sampled_color = texture(gradient, vec2(greyscale_value, 0.0)).rgb;

	COLOR.rgb = mix(input_color.rgb, sampled_color, mix_amount);
	COLOR.a = input_color.a;
}"

[sub_resource type="GradientTexture" id=15]
gradient = ExtResource( 29 )

[sub_resource type="ShaderMaterial" id=16]
shader = SubResource( 14 )
shader_param/mix_amount = 1.0
shader_param/gradient = SubResource( 15 )

[node name="MainMenu" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
rect_min_size = Vector2( 1024, 600 )
script = ExtResource( 1 )

[node name="Wallpaper" parent="." instance=ExtResource( 4 )]

[node name="DropPanel" type="Panel" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 50.0
margin_top = 50.0
margin_right = -50.0
margin_bottom = -50.0
custom_styles/panel = ExtResource( 6 )

[node name="TurboFat" type="Label" parent="DropPanel"]
anchor_right = 1.0
margin_bottom = 150.0
custom_fonts/font = SubResource( 1 )
text = "turbo fat"
align = 1
valign = 1

[node name="Play" type="VBoxContainer" parent="DropPanel"]
anchor_right = 0.5
anchor_bottom = 1.0
margin_top = 150.0
margin_bottom = -100.0
custom_constants/separation = 10
alignment = 1
script = ExtResource( 13 )

[node name="Label" type="Label" parent="DropPanel/Play"]
margin_top = 12.0
margin_right = 462.0
margin_bottom = 57.0
custom_fonts/font = ExtResource( 9 )
text = "Play"
align = 1

[node name="Career" parent="DropPanel/Play" instance=ExtResource( 15 )]
material = SubResource( 4 )
margin_left = 131.0
margin_top = 67.0
margin_right = 331.0
margin_bottom = 117.0
size_flags_horizontal = 4
size_flags_vertical = 4
texture_normal = ExtResource( 20 )
texture_pressed = ExtResource( 16 )
texture_hover = ExtResource( 20 )
text = "Career"
icon_left = ExtResource( 32 )
color = 4
shape = 3

[node name="Practice" parent="DropPanel/Play" instance=ExtResource( 15 )]
material = SubResource( 7 )
margin_left = 131.0
margin_top = 127.0
margin_right = 331.0
margin_bottom = 177.0
size_flags_horizontal = 4
size_flags_vertical = 4
texture_normal = ExtResource( 18 )
texture_pressed = ExtResource( 19 )
texture_hover = ExtResource( 18 )
text = "Practice"
icon_left = ExtResource( 30 )
color = 6
shape = 6

[node name="Tutorials" parent="DropPanel/Play" instance=ExtResource( 15 )]
material = SubResource( 10 )
margin_left = 131.0
margin_top = 187.0
margin_right = 331.0
margin_bottom = 237.0
size_flags_horizontal = 4
size_flags_vertical = 4
texture_normal = ExtResource( 2 )
texture_pressed = ExtResource( 27 )
texture_hover = ExtResource( 2 )
text = "Tutorials"
icon_left = ExtResource( 31 )
color = 2
shape = 4

[node name="Create" type="VBoxContainer" parent="DropPanel"]
anchor_left = 0.5
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = 150.0
margin_bottom = -100.0
custom_constants/separation = 10
alignment = 1
script = ExtResource( 14 )

[node name="Label" type="Label" parent="DropPanel/Create"]
margin_top = 42.0
margin_right = 462.0
margin_bottom = 87.0
custom_fonts/font = ExtResource( 9 )
text = "Create"
align = 1

[node name="Creatures" parent="DropPanel/Create" instance=ExtResource( 15 )]
material = SubResource( 13 )
margin_left = 131.0
margin_top = 97.0
margin_right = 331.0
margin_bottom = 147.0
size_flags_horizontal = 4
size_flags_vertical = 4
texture_normal = ExtResource( 26 )
texture_pressed = ExtResource( 25 )
texture_hover = ExtResource( 26 )
text = "Creatures"
icon_left = ExtResource( 34 )
color = 7
shape = 7

[node name="Levels" parent="DropPanel/Create" instance=ExtResource( 15 )]
material = SubResource( 16 )
margin_left = 131.0
margin_top = 157.0
margin_right = 331.0
margin_bottom = 207.0
size_flags_horizontal = 4
size_flags_vertical = 4
texture_normal = ExtResource( 17 )
texture_pressed = ExtResource( 21 )
texture_hover = ExtResource( 17 )
text = "Levels"
icon_left = ExtResource( 33 )
color = 3
shape = 5

[node name="System" parent="DropPanel" instance=ExtResource( 5 )]
alignment = 1
quit_on_cancel = false

[node name="Debug" type="VBoxContainer" parent="DropPanel"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -136.0
margin_top = -48.0
margin_right = -19.9999
margin_bottom = -20.0
script = ExtResource( 12 )

[node name="StressTest" type="Button" parent="DropPanel/Debug"]
margin_right = 116.0
margin_bottom = 28.0
rect_min_size = Vector2( 116, 28 )
theme = ExtResource( 11 )
text = "Stress Test"

[node name="VersionLabel" parent="." instance=ExtResource( 7 )]

[node name="SettingsMenu" parent="." instance=ExtResource( 8 )]

[node name="MusicPopup" parent="." instance=ExtResource( 10 )]

[connection signal="pressed" from="DropPanel/Play/Career" to="DropPanel/Play" method="_on_Career_pressed"]
[connection signal="pressed" from="DropPanel/Play/Practice" to="DropPanel/Play" method="_on_Practice_pressed"]
[connection signal="pressed" from="DropPanel/Play/Tutorials" to="DropPanel/Play" method="_on_Tutorials_pressed"]
[connection signal="pressed" from="DropPanel/Create/Creatures" to="DropPanel/Create" method="_on_Creatures_pressed"]
[connection signal="pressed" from="DropPanel/Create/Levels" to="DropPanel/Create" method="_on_Levels_pressed"]
[connection signal="quit_pressed" from="DropPanel/System" to="." method="_on_System_quit_pressed"]
[connection signal="settings_pressed" from="DropPanel/System" to="SettingsMenu" method="_on_Settings_pressed"]
[connection signal="pressed" from="DropPanel/Debug/StressTest" to="DropPanel/Debug" method="_on_StressTest_pressed"]
[connection signal="quit_pressed" from="SettingsMenu" to="DropPanel/System" method="_on_Quit_pressed"]
